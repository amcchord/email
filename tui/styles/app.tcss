/* Main Textual CSS for the Mail TUI */

/* ── Dark Theme (default) ─────────────────────────────────── */

Screen {
    background: #1a1a2e;
    color: #eaeaea;
}

/* ── Login Screen ─────────────────────────────────────────── */

LoginScreen {
    align: center middle;
    background: #1a1a2e;
}

.login-card {
    width: 60;
    height: auto;
    max-height: 24;
    padding: 1 2;
    background: #16213e;
    border: round #4f46e5;
}

.login-banner {
    width: 100%;
    content-align: center middle;
    text-align: center;
    color: #4f46e5;
    text-style: bold;
    padding: 1 0;
}

.login-form {
    width: 100%;
    height: auto;
    padding: 1 2;
}

.login-form Input {
    width: 100%;
    margin: 1 0;
}

.login-form Button {
    width: 100%;
    margin: 1 0;
    background: #4f46e5;
    color: #ffffff;
}

.login-form Button:hover {
    background: #6366f1;
}

.login-error {
    width: 100%;
    color: #ef4444;
    text-align: center;
    padding: 0 1;
    display: none;
}

.login-error.visible {
    display: block;
}

/* ── App Shell Layout ─────────────────────────────────────── */

.app-content {
    width: 1fr;
    height: 1fr;
}

.content-area {
    width: 1fr;
    height: 1fr;
    padding: 1 2;
}

/* ── Placeholder Screens ──────────────────────────────────── */

.placeholder-label {
    width: 100%;
    height: 100%;
    content-align: center middle;
    text-align: center;
    color: #8888aa;
    text-style: italic;
}

/* ── Inbox Screen ────────────────────────────────────────── */

#inbox-layout {
    width: 100%;
    height: 100%;
}

#mailbox-sidebar {
    width: 24;
    height: 100%;
    background: $surface;
    border-right: solid $primary-background-darken-2;
    padding: 0;
}

#mailbox-header {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $accent;
}

#mailbox-tree {
    width: 100%;
    height: 1fr;
    padding: 0 1;
}

#inbox-main {
    width: 1fr;
    height: 100%;
}

#search-input {
    width: 100%;
    height: 3;
    margin: 0;
}

#email-table {
    width: 100%;
    height: 1fr;
}

#inbox-status {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $text-muted;
    dock: bottom;
}

/* ── Flow Screen ─────────────────────────────────────────── */

#flow-scroll {
    width: 100%;
    height: 100%;
}

#flow-needs-reply,
#flow-awaiting,
#flow-threads,
#flow-events,
#flow-todos {
    width: 100%;
    height: auto;
    max-height: 16;
    min-height: 3;
    padding: 0;
}

#flow-needs-reply:focus-within,
#flow-awaiting:focus-within,
#flow-threads:focus-within,
#flow-events:focus-within,
#flow-todos:focus-within {
    border: tall $accent;
}

#flow-status {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $text-muted;
    margin: 1 0 0 0;
}

/* ── Compose Screen ──────────────────────────────────────── */

#compose-container {
    width: 100%;
    height: 100%;
}

#compose-editor {
    width: 100%;
    height: 1fr;
}

/* ── Calendar Screen ─────────────────────────────────────── */

#calendar-container {
    width: 100%;
    height: 100%;
}

#calendar-header {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $text;
}

#calendar-scroll {
    width: 100%;
    height: 1fr;
}

#calendar-grid {
    width: 100%;
    height: auto;
    min-height: 20;
    padding: 0;
}

#calendar-status {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $text-muted;
    dock: bottom;
}

/* ── Todos Screen ───────────────────────────────────────── */

#todos-container {
    width: 100%;
    height: 100%;
}

#todo-input {
    width: 100%;
    height: 3;
    margin: 0;
}

#todo-filter-bar {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
}

#todo-list {
    width: 100%;
    height: 1fr;
}

#todos-status {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $text-muted;
    dock: bottom;
}

/* ── Light theme overrides ────────────────────────────────── */

.light Screen {
    background: #ffffff;
    color: #1a1a2e;
}

.light .login-card {
    background: #f8f9fa;
    border: round #4f46e5;
}

.light .login-banner {
    color: #4f46e5;
}
